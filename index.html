<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MVC Flow Showcase - New Footwear & Rice Merchants</title>
<style>
/* Reset and base */
* {
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0; padding: 0;
  background: linear-gradient(135deg, #d0f0fd 0%, #e7f1f8 100%);
  color: #1e2d3d;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Header */
header {
  background: #0077b6;
  color: white;
  padding: 20px 30px;
  text-align: center;
  box-shadow: 0 3px 8px rgba(0,0,0,0.15);
  font-weight: 700;
  font-size: 1.8rem;
  letter-spacing: 1.2px;
  user-select: none;
}

/* Navigation bar */
nav {
  background: #023e8a;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  padding: 12px 20px;
  position: sticky;
  top: 0;
  z-index: 10;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}

nav button {
  background: #48cae4;
  border: none;
  padding: 12px 24px;
  border-radius: 30px;
  font-weight: 600;
  color: #03045e;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.25s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  flex-shrink: 0;
  user-select: none;
}

nav button:hover,
nav button:focus {
  background: #00b4d8;
  color: white;
  box-shadow: 0 4px 12px rgba(0,180,216,0.7);
  outline: none;
  transform: scale(1.05);
}

/* Main container */
main {
  max-width: 960px;
  margin: 25px auto 40px;
  padding: 0 25px 40px;
  background: white;
  border-radius: 16px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  flex-grow: 1;
  min-height: 70vh;
}

/* Section */
section {
  display: none;
  padding: 25px 10px 10px;
  animation: fadeInSection 0.5s ease forwards;
}

section.active {
  display: block;
}

@keyframes fadeInSection {
  from {opacity: 0; transform: translateY(10px);}
  to {opacity: 1; transform: translateY(0);}
}

h2 {
  color: #0077b6;
  font-weight: 700;
  margin-bottom: 15px;
  letter-spacing: 0.03em;
  border-bottom: 3px solid #00b4d8;
  padding-bottom: 5px;
}

/* Product grid and cards */
.product-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill,minmax(240px,1fr));
  gap: 18px;
  margin-top: 15px;
}

.product-card {
  background: #caf0f8;
  border-radius: 12px;
  padding: 18px 15px 22px;
  box-shadow: 0 5px 12px rgba(0, 126, 167, 0.25);
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  user-select: none;
}

.product-card:hover,
.product-card:focus-within {
  transform: translateY(-6px);
  box-shadow: 0 10px 20px rgba(0, 126, 167, 0.45);
  outline: none;
}

.product-card h3 {
  margin: 0 0 8px;
  color: #03045e;
  font-size: 1.15rem;
  font-weight: 700;
}

.product-card p {
  margin: 0 0 12px;
  font-weight: 600;
  color: #0077b6;
  font-size: 1rem;
}

.product-card button {
  align-self: flex-start;
  padding: 10px 18px;
  background: #0077b6;
  border-radius: 25px;
  color: white;
  border: none;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s ease;
  user-select: none;
}

.product-card button:hover,
.product-card button:focus {
  background: #023e8a;
  outline: none;
}

/* Buttons general */
.btn {
  background: #0077b6;
  border: none;
  padding: 12px 25px;
  color: white;
  font-weight: 700;
  font-size: 1rem;
  border-radius: 30px;
  cursor: pointer;
  transition: background 0.25s ease, box-shadow 0.25s ease;
  user-select: none;
  margin-top: 15px;
  display: inline-block;
  box-shadow: 0 4px 12px rgba(0, 119, 182, 0.4);
}

.btn:hover,
.btn:focus {
  background: #023e8a;
  box-shadow: 0 8px 24px rgba(2, 62, 138, 0.7);
  outline: none;
  transform: scale(1.05);
}

/* Cart Items */
.cart-item {
  border-bottom: 1px solid #ddd;
  padding: 12px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  font-size: 1rem;
  color: #03045e;
}

.cart-item button {
  background: #d00000;
  padding: 6px 14px;
  font-weight: 700;
  border-radius: 20px;
  font-size: 0.9rem;
  box-shadow: 0 3px 8px rgba(208,0,0,0.4);
}

.cart-item button:hover,
.cart-item button:focus {
  background: #9b0000;
  box-shadow: 0 5px 14px rgba(155,0,0,0.7);
  outline: none;
}

/* Forms */
form {
  max-width: 420px;
  margin-top: 10px;
}

label {
  font-weight: 700;
  margin-top: 12px;
  display: block;
  color: #023e8a;
  font-size: 1.05rem;
  user-select: none;
}

input, select {
  width: 100%;
  padding: 10px 14px;
  margin-top: 6px;
  border-radius: 12px;
  border: 1.8px solid #0077b6;
  font-size: 1rem;
  transition: border-color 0.3s ease;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

input:focus, select:focus {
  border-color: #00b4d8;
  outline: none;
  box-shadow: 0 0 8px #48cae4aa;
}

/* Messages */
.message {
  margin-top: 18px;
  font-weight: 700;
  font-size: 1.1rem;
  color: #007700;
  user-select: none;
}

/* Responsive tweaks */
@media (max-width: 700px) {
  header {
    font-size: 1.4rem;
    padding: 15px 15px;
  }
  nav button {
    font-size: 0.9rem;
    padding: 10px 18px;
  }
  main {
    margin: 15px 10px 35px;
    padding: 15px 15px 30px;
  }
  .product-grid {
    grid-template-columns: 1fr 1fr;
    gap: 14px;
  }
  .product-card {
    padding: 15px 12px 18px;
  }
  .product-card h3 {
    font-size: 1rem;
  }
  .btn {
    font-size: 0.95rem;
    padding: 10px 20px;
  }
  form {
    max-width: 100%;
  }
}

/* Mobile single column for small devices */
@media (max-width: 450px) {
  nav {
    flex-direction: column;
    gap: 8px;
  }
  nav button {
    width: 100%;
    font-size: 1.1rem;
    padding: 14px 0;
    border-radius: 0;
  }
  .product-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
  header {
    font-size: 1.25rem;
  }
  .btn {
    width: 100%;
    padding: 14px 0;
  }
  .cart-item {
    flex-direction: column;
    gap: 6px;
    font-size: 1.1rem;
  }
  .cart-item button {
    width: 100%;
    padding: 10px 0;
  }
}
</style>
</head>
<body>
<header>
  <h1>New Footwear & Rice Merchants - MVC Flow Demo</h1>
</header>

<nav>
  <button onclick="showSection('home')">Home</button>
  <button onclick="showSection('products')">Products</button>
  <button onclick="showSection('productDetail')">Product Detail</button>
  <button onclick="showSection('cart')">Cart</button>
  <button onclick="showSection('checkout')">Checkout</button>
  <button onclick="showSection('login')">Login/Register</button>
  <button onclick="showSection('admin')">Admin Panel</button>
</nav>

<main>
  <!-- Home Section -->
  <section id="home" class="active">
    <h2>Home Page</h2>
    <p>Welcome to New Footwear & Rice Merchants! Use the navigation above to explore our site.</p>
    <p>Featured Categories:</p>
    <ul>
      <li><button class="btn" onclick="showSection('products', 'Footwear')">Footwear</button></li>
      <li><button class="btn" onclick="showSection('products', 'Rice')">Rice</button></li>
    </ul>
  </section>

  <!-- Products Section -->
  <section id="products">
    <h2>Products Page</h2>
    <p>Category: <span id="product-category"></span></p>
    <div id="product-grid" class="product-grid"></div>
    <button class="btn" onclick="showSection('home')">Back to Home</button>
  </section>

  <!-- Product Detail Section -->
  <section id="productDetail">
    <h2>Product Detail</h2>
    <div id="product-detail-content"></div>
    <button class="btn" onclick="showSection('products')">Back to Products</button>
  </section>

  <!-- Cart Section -->
  <section id="cart">
    <h2>Shopping Cart</h2>
    <div id="cart-items"></div>
    <p><strong>Total:</strong> $<span id="cart-total">0.00</span></p>
    <button class="btn" onclick="showSection('checkout')">Proceed to Checkout</button>
    <button class="btn" onclick="clearCart()">Clear Cart</button>
  </section>

  <!-- Checkout Section -->
  <section id="checkout">
    <h2>Checkout</h2>
    <form id="checkout-form">
      <label for="name">Full Name</label>
      <input type="text" id="name" required />
      <label for="address">Shipping Address</label>
      <input type="text" id="address" required />
      <label for="payment">Payment Method</label>
      <select id="payment" required>
        <option value="">--Select--</option>
        <option value="Credit Card">Credit Card</option>
        <option value="Paypal">Paypal</option>
      </select>
      <button type="submit" class="btn">Submit Order</button>
    </form>
    <div id="checkout-message" class="message"></div>
  </section>

  <!-- Login/Register Section -->
  <section id="login">
    <h2>Login / Register</h2>
    <form id="login-form">
      <label for="username">Username</label>
      <input type="text" id="username" required />
      <label for="password">Password</label>
      <input type="password" id="password" required />
      <button type="submit" class="btn">Login</button>
    </form>
    <div id="login-message" class="message"></div>
  </section>

  <!-- Admin Panel Section -->
  <section id="admin">
    <h2>Admin Panel (Basic Demo)</h2>
    <p>Manage Products</p>
    <form id="admin-add-product-form">
      <label for="admin-product-name">Product Name</label>
      <input type="text" id="admin-product-name" required />
      <label for="admin-product-category">Category</label>
      <select id="admin-product-category" required>
        <option value="">--Select--</option>
        <option value="Footwear">Footwear</option>
        <option value="Rice">Rice</option>
      </select>
      <label for="admin-product-price">Price (USD)</label>
      <input type="number" id="admin-product-price" min="0" step="0.01" required />
      <button type="submit" class="btn">Add Product</button>
    </form>
    <h3>Current Products</h3>
    <ul id="admin-product-list"></ul>
  </section>
</main>

<script>
  // Sample product data simulating backend JSON
  const productsDB = [
    { id: 1, category: 'Footwear', name: 'Bata Running Shoes', price: 59.99, description: 'Comfortable running shoes by Bata.' },
    { id: 2, category: 'Footwear', name: 'Adidas Sneakers', price: 89.99, description: 'Stylish Adidas sneakers.' },
    { id: 3, category: 'Rice', name: 'Basmati Rice 5kg', price: 20.99, description: 'Fragrant basmati rice.' },
    { id: 4, category: 'Rice', name: 'Sona Masoori Rice 5kg', price: 18.99, description: 'Popular Indian rice variety.' }
  ];

  // Simulate a logged-in user (for demo)
  let loggedInUser = null;

  // Cart data stored here
  let cart = [];

  // Show one section only, optionally set category or product
  function showSection(sectionId, category = null, productId = null) {
    document.querySelectorAll('main section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');

    if(sectionId === 'products') {
      displayProducts(category);
    } else if(sectionId === 'productDetail') {
      displayProductDetail(productId);
    } else if(sectionId === 'cart') {
      displayCart();
    } else if(sectionId === 'checkout') {
      resetCheckout();
    } else if(sectionId === 'login') {
      resetLogin();
    } else if(sectionId === 'admin') {
      displayAdminProducts();
    }
  }

  // Show products filtered by category
  function displayProducts(category) {
    document.getElementById('product-category').innerText = category || 'All';
    const grid = document.getElementById('product-grid');
    grid.innerHTML = '';
    let filtered = productsDB.filter(p => category ? p.category === category : true);
    filtered.forEach(product => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <h3>${product.name}</h3>
        <p>$${product.price.toFixed(2)}</p>
        <button class="btn" onclick="showSection('productDetail', null, ${product.id})">View Details</button>
        <button class="btn" onclick="addToCart(${product.id})">Add to Cart</button>
      `;
      grid.appendChild(card);
    });
  }

  // Show product details
  function displayProductDetail(productId) {
    const product = productsDB.find(p => p.id === productId);
    const container = document.getElementById('product-detail-content');
    if(!product) {
      container.innerHTML = '<p>Product not found.</p>';
      return;
    }
    container.innerHTML = `
      <h3>${product.name}</h3>
      <p>Category: ${product.category}</p>
      <p>Price: $${product.price.toFixed(2)}</p>
      <p>${product.description}</p>
      <button class="btn" onclick="addToCart(${product.id})">Add to Cart</button>
      <button class="btn" onclick="showSection('products', '${product.category}')">Back to Products</button>
    `;
  }

  // Add product to cart
  function addToCart(productId) {
    const product = productsDB.find(p => p.id === productId);
    if(!product) return alert('Product not found');
    const cartItem = cart.find(item => item.id === productId);
    if(cartItem) {
      cartItem.qty++;
    } else {
      cart.push({ ...product, qty: 1 });
    }
    alert(`${product.name} added to cart.`);
  }

  // Display cart items
  function displayCart() {
    const container = document.getElementById('cart-items');
    container.innerHTML = '';
    if(cart.length === 0) {
      container.innerHTML = '<p>Your cart is empty.</p>';
      document.getElementById('cart-total').innerText = '0.00';
      return;
    }
    let total = 0;
    cart.forEach(item => {
      total += item.price * item.qty;
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <span>${item.name} (x${item.qty})</span>
        <span>$${(item.price * item.qty).toFixed(2)}</span>
        <button onclick="removeFromCart(${item.id})" class="btn" style="background:#bb3e03">Remove</button>
      `;
      container.appendChild(div);
    });
    document.getElementById('cart-total').innerText = total.toFixed(2);
  }

  // Remove item from cart
  function removeFromCart(productId) {
    cart = cart.filter(item => item.id !== productId);
    displayCart();
  }

  // Clear cart
  function clearCart() {
    if(confirm('Clear all items from the cart?')) {
      cart = [];
      displayCart();
    }
  }

  // Reset checkout form and message
  function resetCheckout() {
    document.getElementById('checkout-form').reset();
    document.getElementById('checkout-message').innerText = '';
  }

  // Handle checkout submission
  document.getElementById('checkout-form').addEventListener('submit', function(e){
    e.preventDefault();
    if(cart.length === 0) {
      alert('Your cart is empty!');
      return;
    }
    const name = document.getElementById('name').value.trim();
    const address = document.getElementById('address').value.trim();
    const payment = document.getElementById('payment').value;

    if(!name || !address || !payment) {
      alert('Please fill all fields.');
      return;
    }

    // For demo, just show success message
    document.getElementById('checkout-message').innerText = `Thank you, ${name}! Your order has been received and will be shipped to ${address}. Payment method: ${payment}.`;
    cart = [];
    displayCart();
  });

  // Reset login form and message
  function resetLogin() {
    document.getElementById('login-form').reset();
    document.getElementById('login-message').innerText = '';
  }

  // Handle login form submission
  document.getElementById('login-form').addEventListener('submit', function(e){
    e.preventDefault();
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    if(username === '' || password === '') {
      alert('Please fill username and password.');
      return;
    }

    // Demo: simple hardcoded check
    if(username === 'admin' && password === 'admin123') {
      loggedInUser = { username: 'admin', role: 'admin' };
      document.getElementById('login-message').innerText = 'Login successful as Admin.';
      showSection('admin');
    } else {
      document.getElementById('login-message').innerText = 'Invalid credentials. Try "admin" / "admin123".';
    }
  });

  // Display admin products in a list
  function displayAdminProducts() {
    const list = document.getElementById('admin-product-list');
    list.innerHTML = '';
    productsDB.forEach(prod => {
      const li = document.createElement('li');
      li.textContent = `${prod.name} (${prod.category}) - $${prod.price.toFixed(2)}`;
      list.appendChild(li);
    });
  }

  // Handle admin add product form
  document.getElementById('admin-add-product-form').addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('admin-product-name').value.trim();
    const category = document.getElementById('admin-product-category').value;
    const price = parseFloat(document.getElementById('admin-product-price').value);

    if(!name || !category || isNaN(price) || price < 0) {
      alert('Please fill valid product info.');
      return;
    }

    // Add new product to DB array (demo only, no backend)
    const newId = productsDB.length ? Math.max(...productsDB.map(p => p.id)) + 1 : 1;
    productsDB.push({ id: newId, category, name, price, description: 'No description yet.' });
    alert(`Product "${name}" added.`);
    displayAdminProducts();
    this.reset();
  });

</script>
</body>
</html>

